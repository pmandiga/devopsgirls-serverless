(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[0],{0:function(e,t,o){e.exports=o("Rjbf")},JNVZ:function(e,t,o){e.exports={deleteIconWrapper:"_2KnPgoz"}},KKPD:function(e,t,o){e.exports={header:"_3t_SVnO",titleText:"_2Ko4-e-",titleWrapper:"_1mImg_z"}},ftlp:function(e,t,o){"use strict";var n=o("gcR/"),a=o.n(n),r=o("q1tI"),i=o.n(r),s=o("i8i4"),d=o("RIqP"),l=o.n(d),c=o("MVZn"),u=o.n(c),h=o("lwsE"),v=o.n(h),p=o("W8MJ"),f=o.n(p),k=o("a1gu"),m=o.n(k),S=o("Nsbk"),g=o.n(S),C=o("7W2i"),b=o.n(C),y=o("PJYZ"),N=o.n(y),T=o("x+pq"),w=o("Twkm"),U=o("kId9"),A=o("h9cs"),_=o("qdd4"),D=o("vDqi"),x=o.n(D),E=o("xk4V"),I=o.n(E),F=o("drc0"),M=o("plg4"),L=o("83IR"),q=o("EYPZ"),P=o("Xau+"),B=o("lSNA"),K=o.n(B),V=o("QILm"),z=o.n(V),W=(o("17x9"),o("z12V")),O=o.n(W),j=o("uz2H"),J=o("TSYQ"),R=o.n(J);var Z=function(e){function t(){return v()(this,t),m()(this,g()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"renderStandard",value:function(e){return a()("div",{className:O.a.standard},void 0,a()("div",{className:O.a.checkbox},void 0,a()(j.a,{className:O.a.checkMark,svgClassName:R()(O.a.checkMarkSvg,O.a.checkMarkSvg_isHover)}),a()(j.a,{svgClassName:R()(O.a.checkMarkSvg,O.a.checkMarkSvg_isSelected),className:O.a.checkMark})),a()("span",{},void 0,e))}},{key:"renderLabel",value:function(){var e=this.props,t=e.id,o=e.label;return a()("label",{htmlFor:t,className:O.a.label},void 0,this.renderStandard(o))}},{key:"renderInput",value:function(){var e=this.props,t=e.id,o=e.value,n=e.checked,a=e.onChange,r=e.onFocus,s=e.onBlur,d=e.inputProps,l=u()({id:t,value:o,checked:n,onChange:a,onFocus:r,onBlur:s},function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className,o=z()(e,["className"]),n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return u()({className:R.a.apply(null,[].concat(a,[t]))},o)}(d,O.a.input),{type:"checkbox"});return i.a.createElement("input",l)}},{key:"render",value:function(){var e,t=this.props.className,o=R()((e={},K()(e,O.a.root,!0),K()(e,t,t),e));return a()("div",{className:o},void 0,this.renderInput(),this.renderLabel())}}]),t}(r.Component);K()(Z,"displayName","Checkbox"),K()(Z,"defaultProps",{className:"",checked:!1,inputProps:{}});var H=o("JNVZ"),Y=o.n(H),Q=function(e){function t(){var e;return v()(this,t),(e=m()(this,g()(t).call(this))).renderDelete=e.renderDelete.bind(N()(N()(e))),e}return b()(t,e),f()(t,[{key:"renderDelete",value:function(){return a()("div",{className:Y.a.deleteIconWrapper},void 0,a()(M.a,{color:"transparent",type:"submit"},void 0,a()(P.a,{todoid:this.props.todo.id},void 0,"Delete")))}},{key:"render",value:function(){var e=this.props,t=e.todo,o=e.onChange,n=e.onDelete;return a()(A.a,{},void 0,a()(L.a,{},void 0,a()("form",{onSubmit:n},void 0,a()(q.a,{renderAside:this.renderDelete},void 0,a()(Z,{checked:t.completed,id:"todo-".concat(t.id,"-checkbox"),label:t.title,onChange:o,value:t.id.toString()})))))}}]),t}(r.Component),X=function(e){var t=e.todos,o=e.onChange,n=e.onDelete;return a()(F.a,{},void 0,t.map(function(e,t){return a()(Q,{todo:e,onChange:o,onDelete:n},t)}))},G=o("EpYu"),$=o("KKPD"),ee=o.n($),te=a()(U.a,{},void 0,a()(L.a,{},void 0,a()(q.a,{renderAside:function(){return a()("div",{className:ee.a.titleWrapper},void 0,a()(P.a,{headline:!0,baseline:!1,raw:!0,className:ee.a.titleText},void 0,"Todo List"))}},void 0,a()(G.a,{invert:!0})))),oe=function(){return a()("div",{className:ee.a.header},void 0,te)},ne=o("njNF"),ae=o("wJfx"),re=o.n(ae),ie=a()(M.a,{type:"submit",color:"pink"},void 0,"Add"),se=function(e){function t(){var e;return v()(this,t),(e=m()(this,g()(t).call(this))).state={newTodoTitle:""},e.onChange=e.onChange.bind(N()(N()(e))),e.onSubmit=e.onSubmit.bind(N()(N()(e))),e}return b()(t,e),f()(t,[{key:"onSubmit",value:function(e){e.preventDefault(),this.props.addNewTodo(this.state.newTodoTitle),this.setState({newTodoTitle:""})}},{key:"renderButton",value:function(){return a()("div",{className:re.a.addNewButton},void 0,ie)}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({newTodoTitle:t})}},{key:"render",value:function(){return a()(A.a,{},void 0,a()(L.a,{},void 0,a()("form",{onSubmit:this.onSubmit},void 0,a()(q.a,{renderAside:this.renderButton},void 0,a()(ne.a,{id:"newTodoField",label:"New Todo",value:this.state.newTodoTitle,onChange:this.onChange})))))}}]),t}(r.Component),de=o("A9Zd"),le=function(e){function t(){return v()(this,t),m()(this,g()(t).apply(this,arguments))}return b()(t,e),f()(t,[{key:"render",value:function(){var e=this.props,t=e.showSetApiForm,o=e.onSetApiClick,n=e.apiUrl,r=e.handleApiUrlChange;return a()(A.a,{},void 0,a()(L.a,{},void 0,a()(P.a,{},void 0,a()(de.a,{chevron:t?"up":"down",onClick:o},void 0,"Set API URL")),t&&a()(ne.a,{id:"apiUrl",value:n,onChange:r})))}}]),t}(r.Component),ce="https://p7rjsnk2c3.execute-api.ap-southeast-2.amazonaws.com/dev",ue=a()(oe,{}),he=a()(w.a,{}),ve=function(e){function t(){var e;return v()(this,t),(e=m()(this,g()(t).call(this))).state={todos:[],error:"",apiUrl:ce,showSetApiForm:!1},["getTodos","onCheckboxClick","addNewTodo","onDelete","clearError","onSetApiClick","handleApiUrlChange","checkForSavedUrl","clearErrorIfEquals","setTodo"].map(function(t){e[t]=e[t].bind(N()(N()(e)))}),e}return b()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.checkForSavedUrl()}},{key:"clearErrorIfEquals",value:function(e){this.state.error===e&&this.clearError()}},{key:"checkForSavedUrl",value:function(){var e=localStorage.getItem("apiUrl");e?this.setState({apiUrl:e},this.getTodos):this.getTodos()}},{key:"setTodo",value:function(e,t,o){var n=this,a=this.state.apiUrl||ce;x.a.put("".concat(a,"/todo/").concat(e.id),e).then(function(){return n.clearErrorIfEquals(t)}).catch(o)}},{key:"onCheckboxClick",value:function(e){var t=this,o=e.target.value,n=this.state.todos,a=n.findIndex(function(e){return e.id.toString()===o}),r=n[a],i=u()({},r,{completed:!r.completed}),s=[].concat(l()(n.slice(0,a)),[i],l()(n.slice(a+1)));this.setState({todos:s}),this.setTodo(i,"Unable to update todo status",function(){return t.setState({error:"Unable to update todo status",todos:n})})}},{key:"deleteTodo",value:function(e){var t=this,o=this.state,n=o.todos,a=o.apiUrl||ce,r=n.findIndex(function(t){return t.id.toString()===e}),i=[].concat(l()(n.slice(0,r)),l()(n.slice(r+1)));this.setState({todos:i});x.a.delete("".concat(a,"/todo/").concat(e)).then(function(){return t.clearErrorIfEquals("Unable to delete todo")}).catch(function(){return t.setState({error:"Unable to delete todo",todos:n})})}},{key:"onDelete",value:function(e){e.preventDefault();var t=e.target[0].value;this.deleteTodo(t)}},{key:"addNewTodo",value:function(e){var t=this,o=this.state.todos,n={id:I()(),completed:!1,title:e},a=[n].concat(l()(o));this.setState({todos:a});this.setState({todos:a}),this.setTodo(n,"Unable to save todo",function(){return t.setState({error:"Unable to save todo",todos:o})})}},{key:"clearError",value:function(){this.setState({error:""})}},{key:"onSetApiClick",value:function(){this.setState(function(e){return{showSetApiForm:!e.showSetApiForm}})}},{key:"handleApiUrlChange",value:function(e){var t=this;this.setState({apiUrl:e.target.value},function(){localStorage.setItem("apiUrl",t.state.apiUrl),t.getTodos()})}},{key:"getTodos",value:function(){var e=this,t=this.state.apiUrl||ce;x.a.get("".concat(t,"/todos"),{params:{_limit:10}}).then(function(t){var o=t.data;e.clearErrorIfEquals("Unable to retrieve todos"),e.setState({todos:o})}).catch(function(){e.setState({error:"Unable to retrieve todos",todos:[]})})}},{key:"render",value:function(){var e=this.state,t=e.todos,o=e.error,n=e.showSetApiForm,r=e.apiUrl;return a()(T.a,{},void 0,ue,a()(U.a,{},void 0,a()(le,{showSetApiForm:n,onSetApiClick:this.onSetApiClick,apiUrl:r,handleApiUrlChange:this.handleApiUrlChange}),a()(se,{addNewTodo:this.addNewTodo}),o&&a()(A.a,{},void 0,a()(_.a,{tone:"info",level:"secondary",message:o,onClose:this.clearError})),a()(X,{todos:t,onChange:this.onCheckboxClick,onDelete:this.onDelete})),he)}}]),t}(r.Component),pe=a()(ve,{});t.a=function(){Object(s.hydrate)(pe,document.getElementById("app"))}},wJfx:function(e,t,o){e.exports={addNewButton:"_3DIsplz"}},z12V:function(e,t,o){e.exports={root:"rl5Xf3F",input:"_1W_iQpM",label:"kKq-jg1",standard:"L7GLY7W",checkbox:"_1tAliDO",checkMark:"VpcwPsR",checkMarkSvg:"_1B3Tkvp",checkMarkSvg_isSelected:"_3uiljLz",checkMarkSvg_isHover:"_12MIVv6"}}},[[0,1,2]]]);